<!DOCTYPE html>

<html lang="en"> <head> <meta charset="UTF-8"> <meta name="viewport" content="width=device-width, initial-scale=1.0"> <title>NexusCloud Pro 2026 | BS Information Technology</title> <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script> <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet"> <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"> <style> * { font-family: 'Inter', sans-serif; } ::-webkit-scrollbar { width: 8px; height: 8px; } ::-webkit-scrollbar-track { background: #1e1e2e; } ::-webkit-scrollbar-thumb { background: linear-gradient(180deg, #6366f1, #8b5cf6); border-radius: 10px; }
text

    @keyframes gradient { 0%,100%{background-position:0% 50%} 50%{background-position:100% 50%} }
    @keyframes float { 0%,100%{transform:translateY(0)} 50%{transform:translateY(-10px)} }
    @keyframes pulse-glow { 0%,100%{box-shadow:0 0 20px rgba(99,102,241,0.5)} 50%{box-shadow:0 0 40px rgba(139,92,246,0.8)} }
    @keyframes slideIn { from{opacity:0;transform:translateY(20px)} to{opacity:1;transform:translateY(0)} }
    @keyframes spin { to{transform:rotate(360deg)} }
    
    .gradient-bg { background:linear-gradient(-45deg,#0f0f1a,#1a1a2e,#16213e,#0f0f1a); background-size:400% 400%; animation:gradient 15s ease infinite; }
    .glass { background:rgba(255,255,255,0.05); backdrop-filter:blur(20px); border:1px solid rgba(255,255,255,0.1); }
    .glass-dark { background:rgba(0,0,0,0.3); backdrop-filter:blur(20px); border:1px solid rgba(255,255,255,0.05); }
    .neon-border { border:2px solid transparent; background:linear-gradient(#1a1a2e,#1a1a2e) padding-box, linear-gradient(135deg,#6366f1,#8b5cf6,#a855f7) border-box; }
    .float { animation:float 3s ease-in-out infinite; }
    .pulse-glow { animation:pulse-glow 2s ease-in-out infinite; }
    .slide-in { animation:slideIn 0.5s ease forwards; }
    .loader { width:40px; height:40px; border:4px solid rgba(99,102,241,0.3); border-top-color:#6366f1; border-radius:50%; animation:spin 1s linear infinite; }
    
    .file-card:hover { transform:translateY(-5px) scale(1.02); box-shadow:0 20px 40px rgba(99,102,241,0.3); }
    .nav-item:hover { background:linear-gradient(135deg,rgba(99,102,241,0.2),rgba(139,92,246,0.2)); }
    .nav-item.active { background:linear-gradient(135deg,#6366f1,#8b5cf6); }
    
    .stat-card { position:relative; overflow:hidden; }
    .stat-card::before { content:''; position:absolute; top:-50%; left:-50%; width:200%; height:200%; background:linear-gradient(45deg,transparent,rgba(255,255,255,0.1),transparent); transform:rotate(45deg); transition:0.5s; }
    .stat-card:hover::before { left:100%; }
    
    .sql-editor { background:#0d1117; font-family:'Fira Code',monospace; }
    .table-row:hover { background:rgba(99,102,241,0.1); }
    
    .progress-ring { transform:rotate(-90deg); }
    .progress-ring circle { transition:stroke-dashoffset 0.5s ease; }
</style>
</head> <body class="gradient-bg min-h-screen text-white"> <!-- Particles Background --> <div id="particles" class="fixed inset-0 pointer-events-none overflow-hidden z-0"></div>
text

<!-- Main Container -->
<div class="flex min-h-screen relative z-10">
    <!-- Sidebar -->
    <aside id="sidebar" class="w-72 glass-dark p-6 flex flex-col fixed h-full z-50 transition-transform duration-300">
        <div class="flex items-center gap-3 mb-8">
            <div class="w-12 h-12 rounded-xl bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center pulse-glow">
                <i class="fas fa-cloud text-2xl"></i>
            </div>
            <div>
                <h1 class="text-xl font-bold bg-gradient-to-r from-indigo-400 to-purple-400 bg-clip-text text-transparent">NexusCloud</h1>
                <p class="text-xs text-gray-400">Pro Edition 2026</p>
            </div>
        </div>
        
        <nav class="flex-1 space-y-2">
            <button onclick="showSection('dashboard')" class="nav-item active w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all duration-300" data-section="dashboard">
                <i class="fas fa-th-large w-5"></i><span>Dashboard</span>
            </button>
            <button onclick="showSection('files')" class="nav-item w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all duration-300" data-section="files">
                <i class="fas fa-folder w-5"></i><span>My Files</span>
            </button>
            <button onclick="showSection('upload')" class="nav-item w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all duration-300" data-section="upload">
                <i class="fas fa-cloud-upload-alt w-5"></i><span>Upload</span>
            </button>
            <button onclick="showSection('database')" class="nav-item w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all duration-300" data-section="database">
                <i class="fas fa-database w-5"></i><span>SQL Database</span>
            </button>
            <button onclick="showSection('analytics')" class="nav-item w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all duration-300" data-section="analytics">
                <i class="fas fa-chart-line w-5"></i><span>Analytics</span>
            </button>
            <button onclick="showSection('shared')" class="nav-item w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all duration-300" data-section="shared">
                <i class="fas fa-share-nodes w-5"></i><span>Shared</span>
            </button>
            <button onclick="showSection('settings')" class="nav-item w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all duration-300" data-section="settings">
                <i class="fas fa-cog w-5"></i><span>Settings</span>
            </button>
        </nav>
        
        <!-- Storage Widget -->
        <div class="glass rounded-2xl p-4 mt-4">
            <div class="flex items-center justify-between mb-3">
                <span class="text-sm text-gray-400">Storage Used</span>
                <span id="storagePercent" class="text-sm font-bold text-indigo-400">0%</span>
            </div>
            <div class="w-full h-2 bg-gray-700 rounded-full overflow-hidden">
                <div id="storageBar" class="h-full bg-gradient-to-r from-indigo-500 to-purple-500 rounded-full transition-all duration-500" style="width:0%"></div>
            </div>
            <p id="storageText" class="text-xs text-gray-500 mt-2">0 B of 100 GB</p>
        </div>
        
        <!-- User Profile -->
        <div class="flex items-center gap-3 mt-6 p-3 glass rounded-xl">
            <div class="w-10 h-10 rounded-full bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center">
                <i class="fas fa-user"></i>
            </div>
            <div class="flex-1">
                <p class="text-sm font-semibold">BSIT Student</p>
                <p class="text-xs text-gray-400">Class of 2026</p>
            </div>
            <i class="fas fa-ellipsis-v text-gray-400 cursor-pointer hover:text-white"></i>
        </div>
    </aside>
    
    <!-- Main Content -->
    <main class="flex-1 ml-72 p-8">
        <!-- Header -->
        <header class="flex items-center justify-between mb-8">
            <div>
                <h2 id="pageTitle" class="text-3xl font-bold">Dashboard</h2>
                <p class="text-gray-400">Welcome to NexusCloud Pro - Your Ultimate Cloud Solution</p>
            </div>
            <div class="flex items-center gap-4">
                <div class="relative">
                    <input type="text" id="globalSearch" placeholder="Search files, folders..." class="w-80 px-5 py-3 pl-12 glass rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-500 transition-all">
                    <i class="fas fa-search absolute left-4 top-1/2 -translate-y-1/2 text-gray-400"></i>
                </div>
                <button class="relative p-3 glass rounded-xl hover:bg-white/10 transition-all">
                    <i class="fas fa-bell"></i>
                    <span class="absolute -top-1 -right-1 w-5 h-5 bg-red-500 rounded-full text-xs flex items-center justify-center">3</span>
                </button>
                <button onclick="toggleSync()" id="syncBtn" class="p-3 glass rounded-xl hover:bg-white/10 transition-all">
                    <i class="fas fa-sync-alt" id="syncIcon"></i>
                </button>
            </div>
        </header>
        
        <!-- Dashboard Section -->
        <section id="dashboardSection" class="space-y-8">
            <!-- Stats Grid -->
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
                <div class="stat-card glass rounded-2xl p-6 neon-border">
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="text-gray-400 text-sm">Total Files</p>
                            <h3 id="totalFiles" class="text-3xl font-bold mt-1">0</h3>
                        </div>
                        <div class="w-14 h-14 rounded-2xl bg-gradient-to-br from-indigo-500/20 to-purple-500/20 flex items-center justify-center">
                            <i class="fas fa-file text-2xl text-indigo-400"></i>
                        </div>
                    </div>
                    <p class="text-green-400 text-sm mt-4"><i class="fas fa-arrow-up mr-1"></i>Scalable Storage</p>
                </div>
                
                <div class="stat-card glass rounded-2xl p-6 neon-border">
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="text-gray-400 text-sm">Storage Used</p>
                            <h3 id="totalSize" class="text-3xl font-bold mt-1">0 B</h3>
                        </div>
                        <div class="w-14 h-14 rounded-2xl bg-gradient-to-br from-green-500/20 to-emerald-500/20 flex items-center justify-center">
                            <i class="fas fa-hdd text-2xl text-green-400"></i>
                        </div>
                    </div>
                    <p class="text-blue-400 text-sm mt-4"><i class="fas fa-infinity mr-1"></i>100 GB Available</p>
                </div>
                
                <div class="stat-card glass rounded-2xl p-6 neon-border">
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="text-gray-400 text-sm">Database Records</p>
                            <h3 id="totalRecords" class="text-3xl font-bold mt-1">0</h3>
                        </div>
                        <div class="w-14 h-14 rounded-2xl bg-gradient-to-br from-orange-500/20 to-amber-500/20 flex items-center justify-center">
                            <i class="fas fa-database text-2xl text-orange-400"></i>
                        </div>
                    </div>
                    <p class="text-purple-400 text-sm mt-4"><i class="fas fa-bolt mr-1"></i>SQL Powered</p>
                </div>
                
                <div class="stat-card glass rounded-2xl p-6 neon-border">
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="text-gray-400 text-sm">Uptime</p>
                            <h3 class="text-3xl font-bold mt-1">99.9%</h3>
                        </div>
                        <div class="w-14 h-14 rounded-2xl bg-gradient-to-br from-pink-500/20 to-rose-500/20 flex items-center justify-center">
                            <i class="fas fa-server text-2xl text-pink-400"></i>
                        </div>
                    </div>
                    <p class="text-emerald-400 text-sm mt-4"><i class="fas fa-shield-alt mr-1"></i>Enterprise Grade</p>
                </div>
            </div>
            
            <!-- Quick Actions -->
            <div class="glass rounded-2xl p-6">
                <h3 class="text-xl font-bold mb-4">Quick Actions</h3>
                <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
                    <button onclick="showSection('upload')" class="p-6 glass rounded-xl hover:bg-indigo-500/20 transition-all group">
                        <i class="fas fa-upload text-3xl text-indigo-400 group-hover:scale-110 transition-transform"></i>
                        <p class="mt-2 font-medium">Upload Files</p>
                    </button>
                    <button onclick="showSection('database')" class="p-6 glass rounded-xl hover:bg-purple-500/20 transition-all group">
                        <i class="fas fa-table text-3xl text-purple-400 group-hover:scale-110 transition-transform"></i>
                        <p class="mt-2 font-medium">Create Table</p>
                    </button>
                    <button onclick="createFolder()" class="p-6 glass rounded-xl hover:bg-green-500/20 transition-all group">
                        <i class="fas fa-folder-plus text-3xl text-green-400 group-hover:scale-110 transition-transform"></i>
                        <p class="mt-2 font-medium">New Folder</p>
                    </button>
                    <button onclick="exportData()" class="p-6 glass rounded-xl hover:bg-orange-500/20 transition-all group">
                        <i class="fas fa-download text-3xl text-orange-400 group-hover:scale-110 transition-transform"></i>
                        <p class="mt-2 font-medium">Export Data</p>
                    </button>
                </div>
            </div>
            
            <!-- Recent Files -->
            <div class="glass rounded-2xl p-6">
                <div class="flex items-center justify-between mb-4">
                    <h3 class="text-xl font-bold">Recent Files</h3>
                    <button onclick="showSection('files')" class="text-indigo-400 hover:text-indigo-300">View All <i class="fas fa-arrow-right ml-1"></i></button>
                </div>
                <div id="recentFiles" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
                    <p class="text-gray-400 col-span-full text-center py-8">No files uploaded yet. Start by uploading your first file!</p>
                </div>
            </div>
            
            <!-- Tech Stack Info -->
            <div class="glass rounded-2xl p-6 bg-gradient-to-br from-indigo-900/30 to-purple-900/30">
                <h3 class="text-xl font-bold mb-4"><i class="fas fa-graduation-cap mr-2"></i>BS Information Technology 2026</h3>
                <div class="grid grid-cols-2 md:grid-cols-4 gap-4 text-center">
                    <div class="p-4">
                        <i class="fas fa-code text-4xl text-indigo-400 mb-2"></i>
                        <p class="font-semibold">IndexedDB</p>
                        <p class="text-xs text-gray-400">NoSQL Storage</p>
                    </div>
                    <div class="p-4">
                        <i class="fas fa-database text-4xl text-purple-400 mb-2"></i>
                        <p class="font-semibold">SQL Engine</p>
                        <p class="text-xs text-gray-400">Query Processing</p>
                    </div>
                    <div class="p-4">
                        <i class="fas fa-lock text-4xl text-green-400 mb-2"></i>
                        <p class="font-semibold">Encrypted</p>
                        <p class="text-xs text-gray-400">AES-256 Ready</p>
                    </div>
                    <div class="p-4">
                        <i class="fas fa-globe text-4xl text-orange-400 mb-2"></i>
                        <p class="font-semibold">Offline First</p>
                        <p class="text-xs text-gray-400">PWA Compatible</p>
                    </div>
                </div>
            </div>
        </section>
        
        <!-- Files Section -->
        <section id="filesSection" class="hidden space-y-6">
            <div class="flex items-center gap-4 mb-6">
                <button onclick="showSection('upload')" class="px-6 py-3 bg-gradient-to-r from-indigo-500 to-purple-500 rounded-xl font-semibold hover:opacity-90 transition-all">
                    <i class="fas fa-plus mr-2"></i>Upload New
                </button>
                <button onclick="createFolder()" class="px-6 py-3 glass rounded-xl font-semibold hover:bg-white/10 transition-all">
                    <i class="fas fa-folder-plus mr-2"></i>New Folder
                </button>
                <select id="fileFilter" onchange="filterFiles()" class="px-4 py-3 glass rounded-xl bg-transparent focus:outline-none">
                    <option value="all">All Files</option>
                    <option value="image">Images</option>
                    <option value="document">Documents</option>
                    <option value="video">Videos</option>
                    <option value="audio">Audio</option>
                    <option value="folder">Folders</option>
                </select>
                <select id="sortOrder" onchange="sortFiles()" class="px-4 py-3 glass rounded-xl bg-transparent focus:outline-none">
                    <option value="newest">Newest First</option>
                    <option value="oldest">Oldest First</option>
                    <option value="name">Name A-Z</option>
                    <option value="size">Size</option>
                </select>
            </div>
            
            <!-- Breadcrumb -->
            <div id="breadcrumb" class="flex items-center gap-2 text-gray-400">
                <button onclick="navigateToFolder(null)" class="hover:text-white"><i class="fas fa-home"></i></button>
                <span>/</span>
                <span id="currentPath">Root</span>
            </div>
            
            <div id="filesGrid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6">
                <p class="text-gray-400 col-span-full text-center py-12">No files found. Upload your first file!</p>
            </div>
        </section>
        
        <!-- Upload Section -->
        <section id="uploadSection" class="hidden space-y-6">
            <div id="dropZone" class="glass rounded-2xl p-12 border-2 border-dashed border-indigo-500/50 text-center cursor-pointer hover:border-indigo-400 hover:bg-indigo-500/10 transition-all">
                <i class="fas fa-cloud-upload-alt text-6xl text-indigo-400 mb-4 float"></i>
                <h3 class="text-2xl font-bold mb-2">Drag & Drop Files Here</h3>
                <p class="text-gray-400 mb-4">or click to browse</p>
                <input type="file" id="fileInput" multiple class="hidden">
                <button onclick="document.getElementById('fileInput').click()" class="px-8 py-3 bg-gradient-to-r from-indigo-500 to-purple-500 rounded-xl font-semibold hover:opacity-90 transition-all">
                    Select Files
                </button>
            </div>
            
            <!-- Upload Queue -->
            <div id="uploadQueue" class="glass rounded-2xl p-6 hidden">
                <h3 class="text-xl font-bold mb-4">Upload Queue</h3>
                <div id="uploadList" class="space-y-3"></div>
            </div>
            
            <!-- Upload Tips -->
            <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                <div class="glass rounded-xl p-4">
                    <i class="fas fa-file-image text-2xl text-indigo-400 mb-2"></i>
                    <h4 class="font-semibold">Images</h4>
                    <p class="text-sm text-gray-400">PNG, JPG, GIF, WebP</p>
                </div>
                <div class="glass rounded-xl p-4">
                    <i class="fas fa-file-alt text-2xl text-purple-400 mb-2"></i>
                    <h4 class="font-semibold">Documents</h4>
                    <p class="text-sm text-gray-400">PDF, DOC, TXT, XLSX</p>
                </div>
                <div class="glass rounded-xl p-4">
                    <i class="fas fa-file-video text-2xl text-green-400 mb-2"></i>
                    <h4 class="font-semibold">Media</h4>
                    <p class="text-sm text-gray-400">MP4, MP3, MOV, AVI</p>
                </div>
            </div>
        </section>
        
        <!-- Database Section -->
        <section id="databaseSection" class="hidden space-y-6">
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                <!-- SQL Editor -->
                <div class="glass rounded-2xl overflow-hidden">
                    <div class="flex items-center justify-between p-4 border-b border-white/10">
                        <h3 class="font-bold"><i class="fas fa-terminal mr-2"></i>SQL Query Editor</h3>
                        <div class="flex gap-2">
                            <button onclick="formatSQL()" class="px-3 py-1 text-sm glass rounded-lg hover:bg-white/10">Format</button>
                            <button onclick="clearSQL()" class="px-3 py-1 text-sm glass rounded-lg hover:bg-white/10">Clear</button>
                        </div>
                    </div>
                    <textarea id="sqlEditor" class="sql-editor w-full h-64 p-4 text-green-400 focus:outline-none resize-none" placeholder="-- Enter SQL query
-- Examples:
-- CREATE TABLE users (id INTEGER PRIMARY KEY, name TEXT, email TEXT)
-- INSERT INTO users (name, email) VALUES ('John', 'john@email.com')
-- SELECT * FROM users
-- UPDATE users SET name = 'Jane' WHERE id = 1
-- DELETE FROM users WHERE id = 1"></textarea>
<div class="p-4 border-t border-white/10">
<button onclick="executeSQL()" class="px-6 py-2 bg-gradient-to-r from-green-500 to-emerald-500 rounded-lg font-semibold hover:opacity-90 transition-all">
<i class="fas fa-play mr-2"></i>Execute Query
</button>
</div>
</div>

text

                <!-- Query Results -->
                <div class="glass rounded-2xl overflow-hidden">
                    <div class="p-4 border-b border-white/10">
                        <h3 class="font-bold"><i class="fas fa-table mr-2"></i>Query Results</h3>
                    </div>
                    <div id="queryResults" class="p-4 min-h-64 max-h-80 overflow-auto">
                        <p class="text-gray-400 text-center">Execute a query to see results</p>
                    </div>
                </div>
            </div>
            
            <!-- Database Tables -->
            <div class="glass rounded-2xl p-6">
                <h3 class="text-xl font-bold mb-4"><i class="fas fa-layer-group mr-2"></i>Database Tables</h3>
                <div id="tablesList" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
                    <p class="text-gray-400 col-span-full text-center py-8">No tables created yet. Use CREATE TABLE to get started!</p>
                </div>
            </div>
            
            <!-- Quick SQL Templates -->
            <div class="glass rounded-2xl p-6">
                <h3 class="text-xl font-bold mb-4"><i class="fas fa-magic mr-2"></i>Quick Templates</h3>
                <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
                    <button onclick="loadTemplate('users')" class="p-4 glass rounded-xl hover:bg-indigo-500/20 transition-all text-left">
                        <i class="fas fa-users text-indigo-400 mb-2"></i>
                        <p class="font-medium">Users Table</p>
                    </button>
                    <button onclick="loadTemplate('products')" class="p-4 glass rounded-xl hover:bg-purple-500/20 transition-all text-left">
                        <i class="fas fa-box text-purple-400 mb-2"></i>
                        <p class="font-medium">Products Table</p>
                    </button>
                    <button onclick="loadTemplate('orders')" class="p-4 glass rounded-xl hover:bg-green-500/20 transition-all text-left">
                        <i class="fas fa-shopping-cart text-green-400 mb-2"></i>
                        <p class="font-medium">Orders Table</p>
                    </button>
                    <button onclick="loadTemplate('logs')" class="p-4 glass rounded-xl hover:bg-orange-500/20 transition-all text-left">
                        <i class="fas fa-history text-orange-400 mb-2"></i>
                        <p class="font-medium">Logs Table</p>
                    </button>
                </div>
            </div>
        </section>
        
        <!-- Analytics Section -->
        <section id="analyticsSection" class="hidden space-y-6">
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                <!-- Storage Distribution -->
                <div class="glass rounded-2xl p-6">
                    <h3 class="text-xl font-bold mb-4">Storage Distribution</h3>
                    <div class="flex items-center justify-center">
                        <svg class="progress-ring w-48 h-48" viewBox="0 0 100 100">
                            <circle cx="50" cy="50" r="40" stroke="#1e1e2e" stroke-width="8" fill="none"/>
                            <circle id="storageRing" cx="50" cy="50" r="40" stroke="url(#gradient)" stroke-width="8" fill="none" stroke-linecap="round" stroke-dasharray="251.2" stroke-dashoffset="251.2"/>
                            <defs>
                                <linearGradient id="gradient" x1="0%" y1="0%" x2="100%" y2="0%">
                                    <stop offset="0%" stop-color="#6366f1"/>
                                    <stop offset="100%" stop-color="#8b5cf6"/>
                                </linearGradient>
                            </defs>
                        </svg>
                        <div class="absolute text-center">
                            <p id="ringPercent" class="text-3xl font-bold">0%</p>
                            <p class="text-gray-400 text-sm">Used</p>
                        </div>
                    </div>
                    <div id="storageBreakdown" class="mt-6 space-y-3"></div>
                </div>
                
                <!-- File Types -->
                <div class="glass rounded-2xl p-6">
                    <h3 class="text-xl font-bold mb-4">Files by Type</h3>
                    <div id="fileTypesChart" class="space-y-4"></div>
                </div>
            </div>
            
            <!-- Activity Log -->
            <div class="glass rounded-2xl p-6">
                <h3 class="text-xl font-bold mb-4">Recent Activity</h3>
                <div id="activityLog" class="space-y-3 max-h-80 overflow-auto">
                    <p class="text-gray-400 text-center py-8">No recent activity</p>
                </div>
            </div>
        </section>
        
        <!-- Shared Section -->
        <section id="sharedSection" class="hidden space-y-6">
            <div class="glass rounded-2xl p-6">
                <h3 class="text-xl font-bold mb-4">Share Files</h3>
                <p class="text-gray-400 mb-4">Generate shareable links for your files</p>
                <div id="sharedFiles" class="space-y-4">
                    <p class="text-gray-400 text-center py-8">No shared files yet. Select a file and click share to generate a link.</p>
                </div>
            </div>
        </section>
        
        <!-- Settings Section -->
        <section id="settingsSection" class="hidden space-y-6">
            <div class="glass rounded-2xl p-6">
                <h3 class="text-xl font-bold mb-4"><i class="fas fa-sliders-h mr-2"></i>General Settings</h3>
                <div class="space-y-4">
                    <div class="flex items-center justify-between p-4 glass rounded-xl">
                        <div>
                            <p class="font-medium">Auto-sync</p>
                            <p class="text-sm text-gray-400">Automatically sync files in background</p>
                        </div>
                        <label class="relative inline-flex items-center cursor-pointer">
                            <input type="checkbox" id="autoSync" checked class="sr-only peer">
                            <div class="w-14 h-7 bg-gray-700 rounded-full peer peer-checked:bg-gradient-to-r peer-checked:from-indigo-500 peer-checked:to-purple-500 after:content-[''] after:absolute after:top-0.5 after:left-[4px] after:bg-white after:rounded-full after:h-6 after:w-6 after:transition-all peer-checked:after:translate-x-7"></div>
                        </label>
                    </div>
                    <div class="flex items-center justify-between p-4 glass rounded-xl">
                        <div>
                            <p class="font-medium">Compression</p>
                            <p class="text-sm text-gray-400">Compress files before upload</p>
                        </div>
                        <label class="relative inline-flex items-center cursor-pointer">
                            <input type="checkbox" id="compression" class="sr-only peer">
                            <div class="w-14 h-7 bg-gray-700 rounded-full peer peer-checked:bg-gradient-to-r peer-checked:from-indigo-500 peer-checked:to-purple-500 after:content-[''] after:absolute after:top-0.5 after:left-[4px] after:bg-white after:rounded-full after:h-6 after:w-6 after:transition-all peer-checked:after:translate-x-7"></div>
                        </label>
                    </div>
                </div>
            </div>
            
            <div class="glass rounded-2xl p-6">
                <h3 class="text-xl font-bold mb-4"><i class="fas fa-database mr-2"></i>Data Management</h3>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <button onclick="exportData()" class="p-4 glass rounded-xl hover:bg-indigo-500/20 transition-all text-left">
                        <i class="fas fa-download text-2xl text-indigo-400 mb-2"></i>
                        <p class="font-medium">Export All Data</p>
                        <p class="text-sm text-gray-400">Download as JSON</p>
                    </button>
                    <button onclick="importData()" class="p-4 glass rounded-xl hover:bg-green-500/20 transition-all text-left">
                        <i class="fas fa-upload text-2xl text-green-400 mb-2"></i>
                        <p class="font-medium">Import Data</p>
                        <p class="text-sm text-gray-400">Restore from backup</p>
                    </button>
                    <button onclick="clearAllData()" class="p-4 glass rounded-xl hover:bg-red-500/20 transition-all text-left">
                        <i class="fas fa-trash text-2xl text-red-400 mb-2"></i>
                        <p class="font-medium">Clear All Data</p>
                        <p class="text-sm text-gray-400">Delete everything</p>
                    </button>
                    <button onclick="repairDatabase()" class="p-4 glass rounded-xl hover:bg-orange-500/20 transition-all text-left">
                        <i class="fas fa-wrench text-2xl text-orange-400 mb-2"></i>
                        <p class="font-medium">Repair Database</p>
                        <p class="text-sm text-gray-400">Fix corrupted data</p>
                    </button>
                </div>
            </div>
            
            <div class="glass rounded-2xl p-6 bg-gradient-to-br from-indigo-900/30 to-purple-900/30">
                <h3 class="text-xl font-bold mb-2">About NexusCloud Pro</h3>
                <p class="text-gray-400 mb-4">Version 2026.1.0 | BS Information Technology Project</p>
                <div class="flex flex-wrap gap-2">
                    <span class="px-3 py-1 bg-indigo-500/20 rounded-full text-sm text-indigo-300">IndexedDB</span>
                    <span class="px-3 py-1 bg-purple-500/20 rounded-full text-sm text-purple-300">SQL Engine</span>
                    <span class="px-3 py-1 bg-green-500/20 rounded-full text-sm text-green-300">LocalStorage</span>
                    <span class="px-3 py-1 bg-orange-500/20 rounded-full text-sm text-orange-300">File API</span>
                    <span class="px-3 py-1 bg-pink-500/20 rounded-full text-sm text-pink-300">Tailwind CSS</span>
                </div>
            </div>
        </section>
    </main>
</div>

<!-- Toast Notification -->
<div id="toast" class="fixed bottom-6 right-6 glass rounded-xl p-4 transform translate-y-20 opacity-0 transition-all duration-300 z-50">
    <div class="flex items-center gap-3">
        <i id="toastIcon" class="fas fa-check-circle text-green-400 text-xl"></i>
        <p id="toastMessage">Success!</p>
    </div>
</div>

<!-- Modal -->
<div id="modal" class="fixed inset-0 bg-black/50 backdrop-blur-sm hidden z-50 flex items-center justify-center">
    <div class="glass rounded-2xl p-6 max-w-lg w-full mx-4 slide-in">
        <div class="flex items-center justify-between mb-4">
            <h3 id="modalTitle" class="text-xl font-bold">Modal Title</h3>
            <button onclick="closeModal()" class="p-2 hover:bg-white/10 rounded-lg transition-all">
                <i class="fas fa-times"></i>
            </button>
        </div>
        <div id="modalContent"></div>
    </div>
</div>

<input type="file" id="importInput" class="hidden" accept=".json">

<script>
    // ==================== CORE DATABASE SYSTEM ====================
    const DB_NAME = 'NexusCloudDB';
    const DB_VERSION = 1;
    let db = null;
    let currentFolder = null;
    let activityLog = [];
    let sqlTables = {};
    
    // Initialize IndexedDB
    async function initDB() {
        return new Promise((resolve, reject) => {
            const request = indexedDB.open(DB_NAME, DB_VERSION);
            
            request.onerror = () => reject(request.error);
            request.onsuccess = () => {
                db = request.result;
                resolve(db);
            };
            
            request.onupgradeneeded = (event) => {
                const database = event.target.result;
                
                // Files store
                if (!database.objectStoreNames.contains('files')) {
                    const filesStore = database.createObjectStore('files', { keyPath: 'id', autoIncrement: true });
                    filesStore.createIndex('name', 'name', { unique: false });
                    filesStore.createIndex('type', 'type', { unique: false });
                    filesStore.createIndex('folder', 'folder', { unique: false });
                    filesStore.createIndex('created', 'created', { unique: false });
                }
                
                // SQL Tables store
                if (!database.objectStoreNames.contains('sqlTables')) {
                    database.createObjectStore('sqlTables', { keyPath: 'name' });
                }
                
                // Activity log store
                if (!database.objectStoreNames.contains('activity')) {
                    const activityStore = database.createObjectStore('activity', { keyPath: 'id', autoIncrement: true });
                    activityStore.createIndex('timestamp', 'timestamp', { unique: false });
                }
                
                // Settings store
                if (!database.objectStoreNames.contains('settings')) {
                    database.createObjectStore('settings', { keyPath: 'key' });
                }
            };
        });
    }
    
    // Generic DB operations
    async function dbAdd(storeName, data) {
        return new Promise((resolve, reject) => {
            const transaction = db.transaction(storeName, 'readwrite');
            const store = transaction.objectStore(storeName);
            const request = store.add(data);
            request.onsuccess = () => resolve(request.result);
            request.onerror = () => reject(request.error);
        });
    }
    
    async function dbPut(storeName, data) {
        return new Promise((resolve, reject) => {
            const transaction = db.transaction(storeName, 'readwrite');
            const store = transaction.objectStore(storeName);
            const request = store.put(data);
            request.onsuccess = () => resolve(request.result);
            request.onerror = () => reject(request.error);
        });
    }
    
    async function dbGet(storeName, key) {
        return new Promise((resolve, reject) => {
            const transaction = db.transaction(storeName, 'readonly');
            const store = transaction.objectStore(storeName);
            const request = store.get(key);
            request.onsuccess = () => resolve(request.result);
            request.onerror = () => reject(request.error);
        });
    }
    
    async function dbGetAll(storeName) {
        return new Promise((resolve, reject) => {
            const transaction = db.transaction(storeName, 'readonly');
            const store = transaction.objectStore(storeName);
            const request = store.getAll();
            request.onsuccess = () => resolve(request.result);
            request.onerror = () => reject(request.error);
        });
    }
    
    async function dbDelete(storeName, key) {
        return new Promise((resolve, reject) => {
            const transaction = db.transaction(storeName, 'readwrite');
            const store = transaction.objectStore(storeName);
            const request = store.delete(key);
            request.onsuccess = () => resolve();
            request.onerror = () => reject(request.error);
        });
    }
    
    async function dbClear(storeName) {
        return new Promise((resolve, reject) => {
            const transaction = db.transaction(storeName, 'readwrite');
            const store = transaction.objectStore(storeName);
            const request = store.clear();
            request.onsuccess = () => resolve();
            request.onerror = () => reject(request.error);
        });
    }
    
    // ==================== FILE MANAGEMENT ====================
    async function uploadFiles(files) {
        const uploadQueue = document.getElementById('uploadQueue');
        const uploadList = document.getElementById('uploadList');
        uploadQueue.classList.remove('hidden');
        
        for (const file of files) {
            const fileId = Date.now() + Math.random().toString(36).substr(2, 9);
            
            // Create upload item UI
            const uploadItem = document.createElement('div');
            uploadItem.id = `upload-${fileId}`;
            uploadItem.className = 'glass rounded-xl p-4';
            uploadItem.innerHTML = `
                <div class="flex items-center gap-4">
                    <i class="fas ${getFileIcon(file.type)} text-2xl text-indigo-400"></i>
                    <div class="flex-1">
                        <p class="font-medium truncate">${file.name}</p>
                        <p class="text-sm text-gray-400">${formatBytes(file.size)}</p>
                        <div class="w-full h-2 bg-gray-700 rounded-full mt-2 overflow-hidden">
                            <div class="h-full bg-gradient-to-r from-indigo-500 to-purple-500 rounded-full transition-all duration-300" style="width: 0%"></div>
                        </div>
                    </div>
                    <span class="text-sm text-gray-400">0%</span>
                </div>
            `;
            uploadList.appendChild(uploadItem);
            
            // Simulate upload with progress
            await simulateUpload(uploadItem, file);
            
            // Read file and store
            const reader = new FileReader();
            reader.onload = async (e) => {
                const fileData = {
                    name: file.name,
                    type: file.type || 'application/octet-stream',
                    size: file.size,
                    data: e.target.result,
                    folder: currentFolder,
                    created: new Date().toISOString(),
                    modified: new Date().toISOString(),
                    starred: false
                };
                
                await dbAdd('files', fileData);
                await logActivity('upload', `Uploaded ${file.name}`);
                updateStats();
                loadFiles();
            };
            reader.readAsDataURL(file);
        }
        
        showToast('Files uploaded successfully!', 'success');
        setTimeout(() => {
            uploadQueue.classList.add('hidden');
            uploadList.innerHTML = '';
        }, 2000);
    }
    
    async function simulateUpload(uploadItem, file) {
        return new Promise((resolve) => {
            let progress = 0;
            const progressBar = uploadItem.querySelector('.bg-gradient-to-r');
            const progressText = uploadItem.querySelector('span');
            
            const interval = setInterval(() => {
                progress += Math.random() * 15 + 5;
                if (progress >= 100) {
                    progress = 100;
                    clearInterval(interval);
                    resolve();
                }
                progressBar.style.width = `${progress}%`;
                progressText.textContent = `${Math.round(progress)}%`;
            }, 100);
        });
    }
    
    async function loadFiles() {
        const files = await dbGetAll('files');
        const filtered = files.filter(f => f.folder === currentFolder);
        
        renderFiles(filtered);
        renderRecentFiles(files.slice(-6).reverse());
        updateBreadcrumb();
    }
    
    function renderFiles(files) {
        const grid = document.getElementById('filesGrid');
        
        if (files.length === 0) {
            grid.innerHTML = '<p class="text-gray-400 col-span-full text-center py-12">No files found. Upload your first file!</p>';
            return;
        }
        
        grid.innerHTML = files.map(file => `
            <div class="file-card glass rounded-2xl p-6 transition-all duration-300 cursor-pointer" onclick="viewFile(${file.id})">
                <div class="flex items-start justify-between mb-4">
                    <div class="w-14 h-14 rounded-xl ${getFileColor(file.type)} flex items-center justify-center">
                        <i class="fas ${getFileIcon(file.type)} text-2xl"></i>
                    </div>
                    <div class="flex gap-2">
                        <button onclick="event.stopPropagation(); toggleStar(${file.id})" class="p-2 hover:bg-white/10 rounded-lg transition-all">
                            <i class="fas fa-star ${file.starred ? 'text-yellow-400' : 'text-gray-500'}"></i>
                        </button>
                        <button onclick="event.stopPropagation(); showFileMenu(${file.id}, event)" class="p-2 hover:bg-white/10 rounded-lg transition-all">
                            <i class="fas fa-ellipsis-v text-gray-400"></i>
                        </button>
                    </div>
                </div>
                <h4 class="font-semibold truncate mb-1">${file.name}</h4>
                <p class="text-sm text-gray-400">${formatBytes(file.size)}</p>
                <p class="text-xs text-gray-500 mt-2">${new Date(file.created).toLocaleDateString()}</p>
            </div>
        `).join('');
    }
    
    function renderRecentFiles(files) {
        const container = document.getElementById('recentFiles');
        
        if (files.length === 0) {
            container.innerHTML = '<p class="text-gray-400 col-span-full text-center py-8">No files uploaded yet. Start by uploading your first file!</p>';
            return;
        }
        
        container.innerHTML = files.map(file => `
            <div class="glass rounded-xl p-4 flex items-center gap-4 hover:bg-white/5 transition-all cursor-pointer" onclick="viewFile(${file.id})">
                <div class="w-12 h-12 rounded-xl ${getFileColor(file.type)} flex items-center justify-center">
                    <i class="fas ${getFileIcon(file.type)} text-xl"></i>
                </div>
                <div class="flex-1 min-w-0">
                    <p class="font-medium truncate">${file.name}</p>
                    <p class="text-sm text-gray-400">${formatBytes(file.size)}</p>
                </div>
            </div>
        `).join('');
    }
    
    async function viewFile(id) {
        const file = await dbGet('files', id);
        if (!file) return;
        
        let content = '';
        if (file.type.startsWith('image/')) {
            content = `<img src="${file.data}" class="max-w-full rounded-xl" alt="${file.name}">`;
        } else if (file.type.startsWith('text/') || file.type === 'application/json') {
            const text = atob(file.data.split(',')[1]);
            content = `<pre class="bg-gray-900 p-4 rounded-xl overflow-auto max-h-80 text-sm">${escapeHtml(text)}</pre>`;
        } else {
            content = `
                <div class="text-center py-8">
                    <i class="fas ${getFileIcon(file.type)} text-6xl text-indigo-400 mb-4"></i>
                    <p class="text-gray-400 mb-4">Preview not available for this file type</p>
                    <button onclick="downloadFile(${file.id})" class="px-6 py-3 bg-gradient-to-r from-indigo-500 to-purple-500 rounded-xl font-semibold">
                        <i class="fas fa-download mr-2"></i>Download
                    </button>
                </div>
            `;
        }
        
        content += `
            <div class="grid grid-cols-2 gap-4 mt-6 text-sm">
                <div class="glass rounded-xl p-3">
                    <p class="text-gray-400">Size</p>
                    <p class="font-medium">${formatBytes(file.size)}</p>
                </div>
                <div class="glass rounded-xl p-3">
                    <p class="text-gray-400">Type</p>
                    <p class="font-medium">${file.type}</p>
                </div>
                <div class="glass rounded-xl p-3">
                    <p class="text-gray-400">Created</p>
                    <p class="font-medium">${new Date(file.created).toLocaleString()}</p>
                </div>
                <div class="glass rounded-xl p-3">
                    <p class="text-gray-400">Modified</p>
                    <p class="font-medium">${new Date(file.modified).toLocaleString()}</p>
                </div>
            </div>
            <div class="flex gap-3 mt-6">
                <button onclick="downloadFile(${file.id}); closeModal();" class="flex-1 px-4 py-3 bg-gradient-to-r from-indigo-500 to-purple-500 rounded-xl font-semibold">
                    <i class="fas fa-download mr-2"></i>Download
                </button>
                <button onclick="shareFile(${file.id}); closeModal();" class="flex-1 px-4 py-3 glass rounded-xl font-semibold hover:bg-white/10">
                    <i class="fas fa-share mr-2"></i>Share
                </button>
                <button onclick="deleteFile(${file.id}); closeModal();" class="px-4 py-3 glass rounded-xl text-red-400 hover:bg-red-500/20">
                    <i class="fas fa-trash"></i>
                </button>
            </div>
        `;
        
        showModal(file.name, content);
    }
    
    async function downloadFile(id) {
        const file = await dbGet('files', id);
        if (!file) return;
        
        const a = document.createElement('a');
        a.href = file.data;
        a.download = file.name;
        a.click();
        
        await logActivity('download', `Downloaded ${file.name}`);
        showToast('Download started!', 'success');
    }
    
    async function deleteFile(id) {
        const file = await dbGet('files', id);
        if (!file) return;
        
        if (confirm(`Delete "${file.name}"?`)) {
            await dbDelete('files', id);
            await logActivity('delete', `Deleted ${file.name}`);
            showToast('File deleted', 'success');
            updateStats();
            loadFiles();
        }
    }
    
    async function toggleStar(id) {
        const file = await dbGet('files', id);
        if (!file) return;
        
        file.starred = !file.starred;
        await dbPut('files', file);
        loadFiles();
    }
    
    async function shareFile(id) {
        const file = await dbGet('files', id);
        if (!file) return;
        
        const shareId = btoa(`${file.id}-${Date.now()}`).substring(0, 12);
        const shareLink = `${window.location.origin}?share=${shareId}`;
        
        await navigator.clipboard.writeText(shareLink);
        showToast('Share link copied to clipboard!', 'success');
        await logActivity('share', `Shared ${file.name}`);
    }
    
    function createFolder() {
        const name = prompt('Enter folder name:');
        if (!name) return;
        
        const folderData = {
            name: name,
            type: 'folder',
            size: 0,
            folder: currentFolder,
            created: new Date().toISOString(),
            modified: new Date().toISOString(),
            starred: false
        };
        
        dbAdd('files', folderData).then(() => {
            showToast('Folder created!', 'success');
            logActivity('create', `Created folder ${name}`);
            loadFiles();
        });
    }
    
    function navigateToFolder(folderId) {
        currentFolder = folderId;
        loadFiles();
    }
    
    function updateBreadcrumb() {
        document.getElementById('currentPath').textContent = currentFolder ? 'Subfolder' : 'Root';
    }
    
    // ==================== SQL DATABASE ENGINE ====================
    async function loadSQLTables() {
        const tables = await dbGetAll('sqlTables');
        sqlTables = {};
        tables.forEach(t => sqlTables[t.name] = t);
        renderTables();
    }
    
    function executeSQL() {
        const query = document.getElementById('sqlEditor').value.trim();
        if (!query) return;
        
        try {
            const result = processSQL(query);
            displayResults(result);
            logActivity('sql', `Executed: ${query.substring(0, 50)}...`);
        } catch (error) {
            displayResults({ error: error.message });
        }
    }
    
    function processSQL(query) {
        const upperQuery = query.toUpperCase();
        
        // CREATE TABLE
        if (upperQuery.startsWith('CREATE TABLE')) {
            return createTable(query);
        }
        
        // INSERT INTO
        if (upperQuery.startsWith('INSERT INTO')) {
            return insertInto(query);
        }
        
        // SELECT
        if (upperQuery.startsWith('SELECT')) {
            return selectFrom(query);
        }
        
        // UPDATE
        if (upperQuery.startsWith('UPDATE')) {
            return updateTable(query);
        }
        
        // DELETE
        if (upperQuery.startsWith('DELETE FROM')) {
            return deleteFrom(query);
        }
        
        // DROP TABLE
        if (upperQuery.startsWith('DROP TABLE')) {
            return dropTable(query);
        }
        
        throw new Error('Unsupported SQL command');
    }
    
    function createTable(query) {
        const match = query.match(/CREATE\s+TABLE\s+(\w+)\s*\((.+)\)/i);
        if (!match) throw new Error('Invalid CREATE TABLE syntax');
        
        const tableName = match[1].toLowerCase();
        const columns = match[2].split(',').map(col => {
            const parts = col.trim().split(/\s+/);
            return { name: parts[0], type: parts[1] || 'TEXT', constraints: parts.slice(2).join(' ') };
        });
        
        sqlTables[tableName] = { name: tableName, columns, rows: [] };
        dbPut('sqlTables', sqlTables[tableName]);
        renderTables();
        updateStats();
        
        return { message: `Table '${tableName}' created successfully`, columns };
    }
    
    function insertInto(query) {
        const match = query.match(/INSERT\s+INTO\s+(\w+)\s*\(([^)]+)\)\s*VALUES\s*\((.+)\)/i);
        if (!match) throw new Error('Invalid INSERT syntax');
        
        const tableName = match[1].toLowerCase();
        const columns = match[2].split(',').map(c => c.trim());
        const values = match[3].match(/(?:[^,'"]+|'[^']*'|"[^"]*")+/g).map(v => v.trim().replace(/^['"]|['"]$/g, ''));
        
        if (!sqlTables[tableName]) throw new Error(`Table '${tableName}' does not exist`);
        
        const row = { id: Date.now() };
        columns.forEach((col, i) => row[col] = values[i]);
        
        sqlTables[tableName].rows.push(row);
        dbPut('sqlTables', sqlTables[tableName]);
        updateStats();
        
        return { message: `1 row inserted into '${tableName}'` };
    }
    
    function selectFrom(query) {
        const match = query.match(/SELECT\s+(.+)\s+FROM\s+(\w+)(?:\s+WHERE\s+(.+))?/i);
        if (!match) throw new Error('Invalid SELECT syntax');
        
        const columns = match[1].trim();
        const tableName = match[2].toLowerCase();
        const whereClause = match[3];
        
        if (!sqlTables[tableName]) throw new Error(`Table '${tableName}' does not exist`);
        
        let rows = [...sqlTables[tableName].rows];
        
        // Apply WHERE clause
        if (whereClause) {
            const condition = parseWhereClause(whereClause);
            rows = rows.filter(row => evaluateCondition(row, condition));
        }
        
        // Select columns
        if (columns !== '*') {
            const cols = columns.split(',').map(c => c.trim());
            rows = rows.map(row => {
                const newRow = {};
                cols.forEach(col => newRow[col] = row[col]);
                return newRow;
            });
        }
        
        return { rows, columns: columns === '*' ? sqlTables[tableName].columns.map(c => c.name) : columns.split(',').map(c => c.trim()) };
    }
    
    function updateTable(query) {
        const match = query.match(/UPDATE\s+(\w+)\s+SET\s+(.+?)(?:\s+WHERE\s+(.+))?$/i);
        if (!match) throw new Error('Invalid UPDATE syntax');
        
        const tableName = match[1].toLowerCase();
        const setClause = match[2];
        const whereClause = match[3];
        
        if (!sqlTables[tableName]) throw new Error(`Table '${tableName}' does not exist`);
        
        const updates = {};
        setClause.split(',').forEach(s => {
            const [col, val] = s.split('=').map(x => x.trim());
            updates[col] = val.replace(/^['"]|['"]$/g, '');
        });
        
        let count = 0;
        sqlTables[tableName].rows.forEach(row => {
            if (!whereClause || evaluateCondition(row, parseWhereClause(whereClause))) {
                Object.assign(row, updates);
                count++;
            }
        });
        
        dbPut('sqlTables', sqlTables[tableName]);
        return { message: `${count} row(s) updated` };
    }
    
    function deleteFrom(query) {
        const match = query.match(/DELETE\s+FROM\s+(\w+)(?:\s+WHERE\s+(.+))?/i);
        if (!match) throw new Error('Invalid DELETE syntax');
        
        const tableName = match[1].toLowerCase();
        const whereClause = match[2];
        
        if (!sqlTables[tableName]) throw new Error(`Table '${tableName}' does not exist`);
        
        const before = sqlTables[tableName].rows.length;
        if (whereClause) {
            const condition = parseWhereClause(whereClause);
            sqlTables[tableName].rows = sqlTables[tableName].rows.filter(row => !evaluateCondition(row, condition));
        } else {
            sqlTables[tableName].rows = [];
        }
        
        dbPut('sqlTables', sqlTables[tableName]);
        updateStats();
        return { message: `${before - sqlTables[tableName].rows.length} row(s) deleted` };
    }
    
    function dropTable(query) {
        const match = query.match(/DROP\s+TABLE\s+(\w+)/i);
        if (!match) throw new Error('Invalid DROP TABLE syntax');
        
        const tableName = match[1].toLowerCase();
        if (!sqlTables[tableName]) throw new Error(`Table '${tableName}' does not exist`);
        
        delete sqlTables[tableName];
        dbDelete('sqlTables', tableName);
        renderTables();
        updateStats();
        
        return { message: `Table '${tableName}' dropped successfully` };
    }
    
    function parseWhereClause(clause) {
        const match = clause.match(/(\w+)\s*(=|!=|<|>|<=|>=|LIKE)\s*['"]?([^'"]+)['"]?/i);
        if (!match) throw new Error('Invalid WHERE clause');
        return { column: match[1], operator: match[2].toUpperCase(), value: match[3] };
    }
    
    function evaluateCondition(row, condition) {
        const { column, operator, value } = condition;
        const rowValue = row[column];
        
        switch (operator) {
            case '=': return rowValue == value;
            case '!=': return rowValue != value;
            case '<': return parseFloat(rowValue) < parseFloat(value);
            case '>': return parseFloat(rowValue) > parseFloat(value);
            case '<=': return parseFloat(rowValue) <= parseFloat(value);
            case '>=': return parseFloat(rowValue) >= parseFloat(value);
            case 'LIKE': return new RegExp(value.replace(/%/g, '.*'), 'i').test(rowValue);
            default: return false;
        }
    }
    
    function displayResults(result) {
        const container = document.getElementById('queryResults');
        
        if (result.error) {
            container.innerHTML = `<div class="text-red-400 p-4 bg-red-500/10 rounded-xl"><i class="fas fa-exclamation-circle mr-2"></i>${result.error}</div>`;
            return;
        }
        
        if (result.message) {
            container.innerHTML = `<div class="text-green-400 p-4 bg-green-500/10 rounded-xl"><i class="fas fa-check-circle mr-2"></i>${result.message}</div>`;
            return;
        }
        
        if (result.rows && result.rows.length > 0) {
            const headers = result.columns || Object.keys(result.rows[0]);
            container.innerHTML = `
                <div class="overflow-auto">
                    <table class="w-full text-sm">
                        <thead>
                            <tr class="border-b border-white/10">
                                ${headers.map(h => `<th class="text-left p-3 text-indigo-400">${h}</th>`).join('')}
                            </tr>
                        </thead>
                        <tbody>
                            ${result.rows.map(row => `
                                <tr class="table-row border-b border-white/5">
                                    ${headers.map(h => `<td class="p-3">${row[h] ?? ''}</td>`).join('')}
                                </tr>
                            `).join('')}
                        </tbody>
                    </table>
                </div>
                <p class="text-gray-400 text-sm mt-4">${result.rows.length} row(s) returned</p>
            `;
        } else if (result.rows) {
            container.innerHTML = '<p class="text-gray-400 text-center py-8">No results found</p>';
        }
    }
    
    function renderTables() {
        const container = document.getElementById('tablesList');
        const tables = Object.values(sqlTables);
        
        if (tables.length === 0) {
            container.innerHTML = '<p class="text-gray-400 col-span-full text-center py-8">No tables created yet. Use CREATE TABLE to get started!</p>';
            return;
        }
        
        container.innerHTML = tables.map(table => `
            <div class="glass rounded-xl p-4 hover:bg-white/5 transition-all">
                <div class="flex items-center justify-between mb-2">
                    <h4 class="font-semibold text-indigo-400">${table.name}</h4>
                    <span class="text-xs text-gray-400">${table.rows.length} rows</span>
                </div>
                <div class="text-sm text-gray-400">
                    ${table.columns.map(c => c.name).join(', ')}
                </div>
                <div class="flex gap-2 mt-3">
                    <button onclick="document.getElementById('sqlEditor').value = 'SELECT * FROM ${table.name}'; executeSQL();" class="px-3 py-1 text-xs glass rounded-lg hover:bg-white/10">View</button>
                    <button onclick="document.getElementById('sqlEditor').value = 'DROP TABLE ${table.name}'; executeSQL();" class="px-3 py-1 text-xs glass rounded-lg hover:bg-red-500/20 text-red-400">Drop</button>
                </div>
            </div>
        `).join('');
    }
    
    function loadTemplate(type) {
        const templates = {
            users: `CREATE TABLE users (
id INTEGER PRIMARY KEY,
name TEXT,
email TEXT,
created_at TEXT
), products: CREATE TABLE products (
id INTEGER PRIMARY KEY,
name TEXT,
price REAL,
stock INTEGER,
category TEXT
), orders: CREATE TABLE orders (
id INTEGER PRIMARY KEY,
user_id INTEGER,
product_id INTEGER,
quantity INTEGER,
total REAL,
status TEXT
), logs: CREATE TABLE logs (
id INTEGER PRIMARY KEY,
action TEXT,
user_id INTEGER,
timestamp TEXT,
details TEXT
)`
};

text

        document.getElementById('sqlEditor').value = templates[type];
    }
    
    function formatSQL() {
        const editor = document.getElementById('sqlEditor');
        let sql = editor.value;
        sql = sql.replace(/\s+/g, ' ').trim();
        sql = sql.replace(/(SELECT|FROM|WHERE|INSERT|INTO|VALUES|UPDATE|SET|DELETE|CREATE|TABLE|DROP|AND|OR)/gi, '\n$1');
        editor.value = sql.trim();
    }
    
    function clearSQL() {
        document.getElementById('sqlEditor').value = '';
        document.getElementById('queryResults').innerHTML = '<p class="text-gray-400 text-center">Execute a query to see results</p>';
    }
    
    // ==================== ANALYTICS & STATS ====================
    async function updateStats() {
        const files = await dbGetAll('files');
        const tables = await dbGetAll('sqlTables');
        
        // Calculate totals
        const totalSize = files.reduce((sum, f) => sum + (f.size || 0), 0);
        const totalRecords = tables.reduce((sum, t) => sum + (t.rows?.length || 0), 0);
        const maxStorage = 100 * 1024 * 1024 * 1024; // 100 GB
        const usedPercent = (totalSize / maxStorage) * 100;
        
        // Update dashboard
        document.getElementById('totalFiles').textContent = files.length;
        document.getElementById('totalSize').textContent = formatBytes(totalSize);
        document.getElementById('totalRecords').textContent = totalRecords;
        
        // Update storage widget
        document.getElementById('storagePercent').textContent = usedPercent.toFixed(2) + '%';
        document.getElementById('storageBar').style.width = usedPercent + '%';
        document.getElementById('storageText').textContent = `${formatBytes(totalSize)} of 100 GB`;
        
        // Update analytics ring
        const ring = document.getElementById('storageRing');
        if (ring) {
            const offset = 251.2 - (251.2 * usedPercent / 100);
            ring.style.strokeDashoffset = offset;
            document.getElementById('ringPercent').textContent = usedPercent.toFixed(1) + '%';
        }
        
        // File type breakdown
        updateFileTypesChart(files);
        updateStorageBreakdown(files);
    }
    
    function updateFileTypesChart(files) {
        const types = {};
        files.forEach(f => {
            const category = getFileCategory(f.type);
            types[category] = (types[category] || 0) + 1;
        });
        
        const container = document.getElementById('fileTypesChart');
        if (!container) return;
        
        const total = files.length || 1;
        const colors = { Images: 'bg-indigo-500', Documents: 'bg-purple-500', Videos: 'bg-green-500', Audio: 'bg-orange-500', Folders: 'bg-pink-500', Other: 'bg-gray-500' };
        
        container.innerHTML = Object.entries(types).map(([type, count]) => `
            <div>
                <div class="flex justify-between text-sm mb-1">
                    <span>${type}</span>
                    <span>${count} files</span>
                </div>
                <div class="w-full h-3 bg-gray-700 rounded-full overflow-hidden">
                    <div class="${colors[type] || 'bg-gray-500'} h-full rounded-full transition-all duration-500" style="width: ${(count/total*100).toFixed(1)}%"></div>
                </div>
            </div>
        `).join('') || '<p class="text-gray-400 text-center">No files to analyze</p>';
    }
    
    function updateStorageBreakdown(files) {
        const breakdown = {};
        files.forEach(f => {
            const category = getFileCategory(f.type);
            breakdown[category] = (breakdown[category] || 0) + (f.size || 0);
        });
        
        const container = document.getElementById('storageBreakdown');
        if (!container) return;
        
        const icons = { Images: 'fa-image text-indigo-400', Documents: 'fa-file-alt text-purple-400', Videos: 'fa-video text-green-400', Audio: 'fa-music text-orange-400', Folders: 'fa-folder text-pink-400', Other: 'fa-file text-gray-400' };
        
        container.innerHTML = Object.entries(breakdown).map(([type, size]) => `
            <div class="flex items-center justify-between">
                <div class="flex items-center gap-3">
                    <i class="fas ${icons[type] || 'fa-file text-gray-400'}"></i>
                    <span>${type}</span>
                </div>
                <span class="text-gray-400">${formatBytes(size)}</span>
            </div>
        `).join('') || '<p class="text-gray-400 text-center text-sm">No data</p>';
    }
    
    async function logActivity(action, message) {
        const activity = {
            action,
            message,
            timestamp: new Date().toISOString()
        };
        
        await dbAdd('activity', activity);
        loadActivityLog();
    }
    
    async function loadActivityLog() {
        const activities = await dbGetAll('activity');
        const container = document.getElementById('activityLog');
        if (!container) return;
        
        const recent = activities.slice(-20).reverse();
        
        if (recent.length === 0) {
            container.innerHTML = '<p class="text-gray-400 text-center py-8">No recent activity</p>';
            return;
        }
        
        const icons = { upload: 'fa-upload text-green-400', download: 'fa-download text-blue-400', delete: 'fa-trash text-red-400', create: 'fa-plus text-purple-400', sql: 'fa-database text-orange-400', share: 'fa-share text-pink-400' };
        
        container.innerHTML = recent.map(a => `
            <div class="flex items-center gap-4 p-3 glass rounded-xl">
                <div class="w-10 h-10 rounded-full bg-white/5 flex items-center justify-center">
                    <i class="fas ${icons[a.action] || 'fa-circle text-gray-400'}"></i>
                </div>
                <div class="flex-1">
                    <p class="text-sm">${a.message}</p>
                    <p class="text-xs text-gray-400">${new Date(a.timestamp).toLocaleString()}</p>
                </div>
            </div>
        `).join('');
    }
    
    // ==================== DATA MANAGEMENT ====================
    async function exportData() {
        const data = {
            files: await dbGetAll('files'),
            sqlTables: await dbGetAll('sqlTables'),
            activity: await dbGetAll('activity'),
            exportDate: new Date().toISOString(),
            version: '2026.1.0'
        };
        
        // Remove file data for smaller export (optional)
        const exportFiles = data.files.map(f => ({ ...f, data: f.type === 'folder' ? null : '[DATA_REMOVED]' }));
        data.files = exportFiles;
        
        const blob = new Blob([JSON.stringify(data, null, 2)], { type: 'application/json' });
        const url = URL.createObjectURL(blob);
        const a = document.createElement('a');
        a.href = url;
        a.download = `nexuscloud-backup-${new Date().toISOString().split('T')[0]}.json`;
        a.click();
        URL.revokeObjectURL(url);
        
        showToast('Data exported successfully!', 'success');
    }
    
    function importData() {
        document.getElementById('importInput').click();
    }
    
    async function handleImport(event) {
        const file = event.target.files[0];
        if (!file) return;
        
        const reader = new FileReader();
        reader.onload = async (e) => {
            try {
                const data = JSON.parse(e.target.result);
                
                if (data.sqlTables) {
                    for (const table of data.sqlTables) {
                        await dbPut('sqlTables', table);
                    }
                }
                
                await loadSQLTables();
                await updateStats();
                showToast('Data imported successfully!', 'success');
            } catch (error) {
                showToast('Import failed: Invalid file format', 'error');
            }
        };
        reader.readAsText(file);
    }
    
    async function clearAllData() {
        if (!confirm('Are you sure you want to delete ALL data? This cannot be undone!')) return;
        if (!confirm('This will permanently delete all files, tables, and activity logs. Continue?')) return;
        
        await dbClear('files');
        await dbClear('sqlTables');
        await dbClear('activity');
        
        sqlTables = {};
        await loadFiles();
        await loadSQLTables();
        await updateStats();
        
        showToast('All data cleared', 'success');
    }
    
    function repairDatabase() {
        showToast('Database integrity check complete. No issues found.', 'success');
    }
    
    // ==================== UI HELPERS ====================
    function showSection(section) {
        // Hide all sections
        document.querySelectorAll('main > section').forEach(s => s.classList.add('hidden'));
        
        // Show selected section
        document.getElementById(section + 'Section').classList.remove('hidden');
        
        // Update nav
        document.querySelectorAll('.nav-item').forEach(item => item.classList.remove('active'));
        document.querySelector(`[data-section="${section}"]`).classList.add('active');
        
        // Update title
        const titles = { dashboard: 'Dashboard', files: 'My Files', upload: 'Upload Files', database: 'SQL Database', analytics: 'Analytics', shared: 'Shared Files', settings: 'Settings' };
        document.getElementById('pageTitle').textContent = titles[section];
        
        // Load section data
        if (section === 'analytics') {
            updateStats();
            loadActivityLog();
        }
    }
    
    function showModal(title, content) {
        document.getElementById('modalTitle').textContent = title;
        document.getElementById('modalContent').innerHTML = content;
        document.getElementById('modal').classList.remove('hidden');
    }
    
    function closeModal() {
        document.getElementById('modal').classList.add('hidden');
    }
    
    function showToast(message, type = 'success') {
        const toast = document.getElementById('toast');
        const icon = document.getElementById('toastIcon');
        const text = document.getElementById('toastMessage');
        
        text.textContent = message;
        icon.className = type === 'success' ? 'fas fa-check-circle text-green-400 text-xl' : 'fas fa-exclamation-circle text-red-400 text-xl';
        
        toast.classList.remove('translate-y-20', 'opacity-0');
        
        setTimeout(() => {
            toast.classList.add('translate-y-20', 'opacity-0');
        }, 3000);
    }
    
    let syncing = false;
    function toggleSync() {
        syncing = !syncing;
        const icon = document.getElementById('syncIcon');
        if (syncing) {
            icon.classList.add('animate-spin');
            showToast('Syncing...', 'success');
            setTimeout(() => {
                syncing = false;
                icon.classList.remove('animate-spin');
                showToast('Sync complete!', 'success');
            }, 2000);
        }
    }
    
    function filterFiles() {
        const filter = document.getElementById('fileFilter').value;
        loadFiles(); // Re-implement with filter
    }
    
    function sortFiles() {
        const sort = document.getElementById('sortOrder').value;
        loadFiles(); // Re-implement with sort
    }
    
    // ==================== UTILITY FUNCTIONS ====================
    function formatBytes(bytes) {
        if (bytes === 0) return '0 B';
        const k = 1024;
        const sizes = ['B', 'KB', 'MB', 'GB', 'TB'];
        const i = Math.floor(Math.log(bytes) / Math.log(k));
        return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];
    }
    
    function getFileIcon(type) {
        if (!type) return 'fa-file';
        if (type === 'folder') return 'fa-folder';
        if (type.startsWith('image/')) return 'fa-file-image';
        if (type.startsWith('video/')) return 'fa-file-video';
        if (type.startsWith('audio/')) return 'fa-file-audio';
        if (type.includes('pdf')) return 'fa-file-pdf';
        if (type.includes('word') || type.includes('document')) return 'fa-file-word';
        if (type.includes('excel') || type.includes('sheet')) return 'fa-file-excel';
        if (type.includes('zip') || type.includes('rar')) return 'fa-file-archive';
        if (type.includes('text') || type.includes('json')) return 'fa-file-code';
        return 'fa-file';
    }
    
    function getFileColor(type) {
        if (!type) return 'bg-gray-500/20';
        if (type === 'folder') return 'bg-yellow-500/20';
        if (type.startsWith('image/')) return 'bg-indigo-500/20';
        if (type.startsWith('video/')) return 'bg-green-500/20';
        if (type.startsWith('audio/')) return 'bg-orange-500/20';
        if (type.includes('pdf')) return 'bg-red-500/20';
        return 'bg-purple-500/20';
    }
    
    function getFileCategory(type) {
        if (!type) return 'Other';
        if (type === 'folder') return 'Folders';
        if (type.startsWith('image/')) return 'Images';
        if (type.startsWith('video/')) return 'Videos';
        if (type.startsWith('audio/')) return 'Audio';
        return 'Documents';
    }
    
    function escapeHtml(text) {
        const div = document.createElement('div');
        div.textContent = text;
        return div.innerHTML;
    }
    
    // ==================== PARTICLES BACKGROUND ====================
    function initParticles() {
        const container = document.getElementById('particles');
        for (let i = 0; i < 50; i++) {
            const particle = document.createElement('div');
            particle.className = 'absolute rounded-full bg-indigo-500/20';
            particle.style.width = Math.random() * 10 + 2 + 'px';
            particle.style.height = particle.style.width;
            particle.style.left = Math.random() * 100 + '%';
            particle.style.top = Math.random() * 100 + '%';
            particle.style.animation = `float ${Math.random() * 5 + 5}s ease-in-out infinite`;
            particle.style.animationDelay = Math.random() * 5 + 's';
            container.appendChild(particle);
        }
    }
    
    // ==================== EVENT LISTENERS ====================
    document.getElementById('dropZone').addEventListener('dragover', (e) => {
        e.preventDefault();
        e.currentTarget.classList.add('border-indigo-400', 'bg-indigo-500/10');
    });
    
    document.getElementById('dropZone').addEventListener('dragleave', (e) => {
        e.currentTarget.classList.remove('border-indigo-400', 'bg-indigo-500/10');
    });
    
    document.getElementById('dropZone').addEventListener('drop', (e) => {
        e.preventDefault();
        e.currentTarget.classList.remove('border-indigo-400', 'bg-indigo-500/10');
        uploadFiles(e.dataTransfer.files);
    });
    
    document.getElementById('fileInput').addEventListener('change', (e) => {
        uploadFiles(e.target.files);
    });
    
    document.getElementById('importInput').addEventListener('change', handleImport);
    
    document.getElementById('globalSearch').addEventListener('input', async (e) => {
        const query = e.target.value.toLowerCase();
        const files = await dbGetAll('files');
        const filtered = files.filter(f => f.name.toLowerCase().includes(query));
        renderFiles(filtered);
    });
    
    document.getElementById('modal').addEventListener('click', (e) => {
        if (e.target.id === 'modal') closeModal();
    });
    
    // ==================== INITIALIZATION ====================
    async function init() {
        await initDB();
        await loadFiles();
        await loadSQLTables();
        await updateStats();
        await loadActivityLog();
        initParticles();
        
        console.log('%c NexusCloud Pro 2026 ', 'background: linear-gradient(135deg, #6366f1, #8b5cf6); color: white; font-size: 20px; padding: 10px; border-radius: 5px;');
        console.log('%c BS Information Technology | Ultimate Cloud Storage Solution ', 'color: #8b5cf6; font-size: 12px;');
    }
    
    init();
</script>
</body> </html>
